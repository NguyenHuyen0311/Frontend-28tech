28techâ€”Javascript nÃ¢ng cao (Tiáº¿t 2)
ğŸ–‡ï¸Callbacks
* Callbacks
- HÃ m callback (gá»i láº¡i) lÃ  má»™t hÃ m Ä‘Æ°á»£c truyá»n vÃ o Ä‘á»‘i sá»‘ cá»§a má»™t hÃ m khÃ¡c 
- HÃ m callback cÃ³ thá»ƒ Ä‘Æ°á»£c cháº¡y sau khi nhá»¯ng chá»©c nÄƒng khÃ¡c káº¿t thÃºc
ğŸ–‡ï¸Promise
- Promise dÃ¹ng Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» callback hell
- Callback hell lÃ  cÃ³ nhiá»u hÃ m lá»“ng nhau gÃ¢y ra khÃ³ chá»‹u, nguyÃªn nhÃ¢n gÃ¢y ra tÃ¬nh tráº¡ng callback hell lÃ  do: giáº£ sá»­ Ä‘á»ƒ cháº¡y Ä‘Æ°á»£c hÃ m b thÃ¬ hÃ m a pháº£i thá»±c thi xong Ä‘Ã£, vÃ  Ä‘á»ƒ cháº¡y Ä‘Æ°á»£c hÃ m c thÃ¬ hÃ m b pháº£i thá»±c thi xong
- Promise cÃ³ cÃ¡ch viáº¿t Ä‘Æ¡n giáº£n vÃ  dá»… nhÃ¬n hÆ¡n so vá»›i callback, má»—i hÃ m náº±m trÃªn má»™t dÃ²ng nÃªn sáº½ dá»… nhÃ¬n hÆ¡n 
- CÃº phÃ¡p:
var promise = new Promise((resolve, reject) => {
   // resolve(): Náº¿u thÃ nh cÃ´ng cháº¡y vÃ o hÃ m nÃ y
   // reject(): Náº¿u tháº¥t báº¡i cháº¡y vÃ o hÃ m nÃ y
});

promise
   .then((success) => {
      // Náº¿u thÃ nh cÃ´ng cháº¡y vÃ o Ä‘Ã¢y
   })
   .catch((error) => {
      // Náº¿u tháº¥t báº¡i cháº¡y vÃ o Ä‘Ã¢y
   })
   .finally(() => {
      // LuÃ´n luÃ´n cháº¡y vÃ o Ä‘Ã¢y
   })
Trong Ä‘Ã³: 
+ new Promise: Ä‘á»ƒ táº¡o má»›i má»™t promise
+ resolve: lÃ  má»™t hÃ m callback xá»­ lÃ½ cho hÃ nh Ä‘á»™ng thÃ nh cÃ´ng
+ reject: lÃ  má»™t hÃ m callback xá»­ lÃ½ cho hÃ nh Ä‘á»™ng tháº¥t báº¡i
+ .then: Náº¿u thÃ nh cÃ´ng cháº¡y vÃ o Ä‘Ã¢y
+ .catch: Náº¿u tháº¥t báº¡i cháº¡y vÃ o Ä‘Ã¢y
+ .finally: LuÃ´n luÃ´n cháº¡y vÃ o Ä‘Ã¢y
* Promise cÃ³ 3 tráº¡ng thÃ¡i:
- Pending:
+ Khi promise Ä‘ang cháº¡y thÃ¬ sáº½ á»Ÿ tráº¡ng thÃ¡i nÃ y
+ Káº¿t quáº£ lÃ  undefined
- Fulfilled:
+ Khi promise Ä‘Ã£ cháº¡y xong thÃ¬ sáº½ á»Ÿ tráº¡ng thÃ¡i nÃ y
+ Káº¿t quáº£ lÃ  má»™t giÃ¡ trá»‹
- Rejected:
+ Khi promise bá»‹ lá»—i thÃ¬ sáº½ á»Ÿ tráº¡ng thÃ¡i nÃ y
+ Káº¿t quáº£ lÃ  má»™t object lá»—i
* Sá»­ dá»¥ng Promise.all
- Promise.all giÃºp cho cÃ¡c promise Ä‘Æ°á»£c thá»±c thi song song nhau, tá»•ng thá»i gian cháº¡y cá»§a chÆ°Æ¡ng trÃ¬nh chá»‰ báº±ng thá»i gian cháº¡y cá»§a promise cháº¡y lÃ¢u nháº¥t
- CÃº phÃ¡p:
Promise.all([promise1, promise2, ...])
   .then(([success1, success2, ...]) => {
      // Náº¿u táº¥t cáº£ promise thÃ nh cÃ´ng thÃ¬ cháº¡y vÃ o Ä‘Ã¢y
   })  
   .catch((error) => {
      // Chá»‰ cáº§n má»™t promise lá»—i thÃ¬ sáº½ cháº¡y vÃ o Ä‘Ã¢y
   })  
   .finally(() => {
      // LuÃ´n cháº¡y vÃ o Ä‘Ã¢y
   })  
- LÆ°u Ã½: Náº¿u má»™t trong sá»‘ cÃ¡c promise bá»‹ reject thÃ¬ chÆ°Æ¡ng trÃ¬nh cháº¡y vÃ o catch ngay
- Má»™t vÃ i á»©ng dá»¥ng cá»§a Promise.all
+ Gá»­i nhiá»u email Ä‘á»“ng thá»i: CÃ¡ch thÃ´ng thÆ°á»ng lÃ  dÃ¹ng vÃ²ng láº·p Ä‘á»ƒ láº·p qua tá»«ng email xong gá»­i Ä‘i, nhÆ°ng giá» dÃ¹ng promise.all thÃ¬ sáº½ gá»­i Ä‘i song song cÃ¡c email
+ Láº¥y nhiá»u api: giáº£ sá»­ muá»‘n láº¥y nhiá»u api vÃ  cÃ¡c api Ä‘á»™c láº­p nhau thÃ¬ dÃ¹ng promise.all sáº½ giáº£m Ä‘Æ°á»£c thá»i gian 
ğŸ–‡ï¸Fetch API
- PhÆ°Æ¡ng thá»©c Fetch dÃ¹ng Ä‘á»ƒ gá»i lÃªn trÃªn server thÃ´ng qua má»™t API Ä‘á»ƒ láº¥y dá»¯ liá»‡u tá»« trÃªn server tráº£ vá»
- Api hiá»ƒu Ä‘Æ¡n giáº£n thÃ¬ nÃ³ lÃ  má»™t url Ä‘á»ƒ cho phÃ©p bÃªn Front-end cÃ³ thá»ƒ giao tiáº¿p Ä‘Æ°á»£c vá»›i Back-end
- CÃº phÃ¡p:
fetch('http://example.com/movies.json')
.then((response) => {
    return response.json();
})
.then((data) => {
    console.log(data);
})
.catch((error) => {
    console.log(error);
})
Trong Ä‘Ã³:
+ PhÆ°Æ¡ng thá»©c fetch() dÃ¹ng Ä‘á»ƒ gá»­i yÃªu cáº§u lÃªn server thÃ´ng qua api 
+ PhÆ°Æ¡ng thá»©c then() Ä‘Æ°á»£c thá»±c thi khi cÃ³ pháº£n há»“i tá»« mÃ¡y chá»§ tráº£ vá» 
+ PhÆ°Æ¡ng thá»©c catch() Ä‘Æ°á»£c thá»±c thi khi khÃ´ng cÃ³ pháº£n há»“i tá»« mÃ¡y chá»§ 
- 3 bÆ°á»›c Ä‘á»ƒ láº¥y data 
+ BÆ°á»›c 1: Truy cáº­p vÃ o api 
+ BÆ°á»›c 2: Láº¥y data
+ BÆ°á»›c 3: In data ra mÃ n hÃ¬nh 
ğŸ–‡ï¸Async/Await
- Async/Await lÃ  má»™t tÃ­nh nÄƒng cá»§a Javascript giÃºp chÃºng ta lÃ m viá»‡c vá»›i cÃ¡c hÃ m báº¥t Ä‘á»“ng bá»™ theo cÃ¡ch dá»… hiá»ƒu hÆ¡n
- NÃ³ Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn Promise
- Async: Khai bÃ¡o má»™t hÃ m báº¥t Ä‘á»“ng bá»™
+ Tá»± Ä‘á»™ng biáº¿n Ä‘á»•i má»™t hÃ m thÃ´ng thÆ°á»ng thÃ nh má»™t Promise
+ Tá»« khoÃ¡ Async Ä‘Æ°á»£c Ä‘áº·t trÆ°á»›c má»™t hÃ m
- Await: Táº¡m dá»«ng viá»‡c thá»±c hiá»‡n cÃ¡c hÃ m async
+ Khi Ä‘Æ°á»£c Ä‘áº·t trÆ°á»›c má»™t Promise, nÃ³ sáº½ Ä‘á»£i cho Ä‘áº¿n khi Promise káº¿t thÃºc vÃ  tráº£ vá» káº¿t quáº£
+ Await chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng bÃªn trong cÃ¡c hÃ m async
ğŸ–‡ï¸JSON server vÃ  Postman
* JSON server
- KhÃ¡i niá»‡m: JSON server lÃ  má»™t server Ä‘á»ƒ fake API vÃ  tráº£ chuá»—i JSON
- YÃªu cáº§u: CÃ i Ä‘áº·t Nodejs vÃ o mÃ¡y tÃ­nh, gÃµ npm -v Ä‘á»ƒ xem phiÃªn báº£n
- HÆ°á»›ng dáº«n cáº¥u hÃ¬nh:
+ BÆ°á»›c 1: GÃµ lá»‡nh npm init Ä‘á»ƒ khá»Ÿi táº¡o file package.json (Chá»©a nhá»¯ng thÃ´ng tin cÃ¡c gÃ³i Ä‘Ã£ cÃ i Ä‘áº·t, náº¿u cÃ³ file package.json rá»“i thÃ¬ thÃ´i, náº¿u khÃ´ng cá»© báº¥m enter)
+ BÆ°á»›c 2: GÃµ lá»‡nh npm i json-server Ä‘á»ƒ cÃ i
+ BÆ°á»›c 3: Táº¡o má»™t file database.json
+ BÆ°á»›c 4: ThÃªm vÃ o má»¥c script trong package.json dÃ²ng lá»‡nh: "start": "json-server --watch database.json"
+ BÆ°á»›c 5: GÃµ lá»‡nh npm start Ä‘á»ƒ cháº¡y
* Postman
- CÃ¡c bÆ°á»›c cÃ i Ä‘áº·t vÃ  dá»­ dá»¥ng Postman:
+ BÆ°á»›c 1: Táº£i Postman vÃ  Ä‘Äƒng kÃ½ tÃ i khoáº£n
+ BÆ°á»›c 2: Chá»n Create Workspace
+ BÆ°á»›c 3: Chá»n Create Collection vÃ  Ä‘áº·t tÃªn cho Collection
+ BÆ°á»›c 4: Táº¡o má»›i má»™t Request
- PhÆ°Æ¡ng thá»©c GET
+ Äá»ƒ láº¥y má»™t hoáº·c nhiá»u báº£n ghi
- PhÆ°Æ¡ng thá»©c POST
+ Äá»ƒ táº¡o má»›i má»™t báº£n ghi
+ TrÆ°á»ng há»£p data gá»­i lÃªn dáº¡ng json thÃ¬ headers pháº£i thÃªm Content-Type lÃ  application/json
- PhÆ°Æ¡ng thá»©c PUT
+ Äá»ƒ cáº­p nháº­t má»™t báº£n ghi
+ NhÆ°ng pháº£i gá»­i lÃªn Ä‘áº§y Ä‘á»§ cÃ¡c cáº·p key/value (ká»ƒ cáº£ nhá»¯ng cáº·p key/value khÃ´ng cáº§n cáº­p nháº­t)
- PhÆ°Æ¡ng thá»©c PATCH 
+ Äá»ƒ cáº­p nháº­t má»™t báº£n ghi
+ Chá»‰ cáº§n gá»­i lÃªn cÃ¡c cáº·p key/value cáº§n cáº­p nháº­t
- PhÆ°Æ¡ng thá»©c DELETE
+ Äá»ƒ xoÃ¡ má»™t báº£n ghi